[{"/Users/josse/Projects/booking/src/index.js":"1","/Users/josse/Projects/booking/src/serviceWorker.js":"2","/Users/josse/Projects/booking/src/App.js":"3","/Users/josse/Projects/booking/src/components/footer.js":"4","/Users/josse/Projects/booking/src/components/header.js":"5","/Users/josse/Projects/booking/src/components/bookables.js":"6","/Users/josse/Projects/booking/src/components/i18n.js":"7","/Users/josse/Projects/booking/src/components/header-mobile.js":"8","/Users/josse/Projects/booking/src/components/menu.js":"9","/Users/josse/Projects/booking/src/components/food.js":"10","/Users/josse/Projects/booking/src/components/lodging.js":"11","/Users/josse/Projects/booking/src/components/tabs.js":"12","/Users/josse/Projects/booking/src/components/dateselector.js":"13","/Users/josse/Projects/booking/src/components/tab.js":"14","/Users/josse/Projects/booking/src/pages/checkout.js":"15","/Users/josse/Projects/booking/src/components/selected.js":"16","/Users/josse/Projects/booking/src/components/scrollToTop.js":"17","/Users/josse/Projects/booking/src/pages/confirmation.js":"18","/Users/josse/Projects/booking/src/components/rental.js":"19","/Users/josse/Projects/booking/src/components/camp.js":"20"},{"size":547,"mtime":1607112066565,"results":"21","hashOfConfig":"22"},{"size":5085,"mtime":1584349835710,"results":"23","hashOfConfig":"22"},{"size":5325,"mtime":1610008177376,"results":"24","hashOfConfig":"22"},{"size":3376,"mtime":1608541565226,"results":"25","hashOfConfig":"22"},{"size":1919,"mtime":1608541365724,"results":"26","hashOfConfig":"22"},{"size":5150,"mtime":1610051972280,"results":"27","hashOfConfig":"22"},{"size":1899,"mtime":1609412208677,"results":"28","hashOfConfig":"22"},{"size":5789,"mtime":1608544722472,"results":"29","hashOfConfig":"22"},{"size":1957,"mtime":1608653811231,"results":"30","hashOfConfig":"22"},{"size":2428,"mtime":1610051406146,"results":"31","hashOfConfig":"22"},{"size":2478,"mtime":1610052264884,"results":"32","hashOfConfig":"22"},{"size":1564,"mtime":1609917172570,"results":"33","hashOfConfig":"22"},{"size":1447,"mtime":1610053159327,"results":"34","hashOfConfig":"22"},{"size":867,"mtime":1609917167424,"results":"35","hashOfConfig":"22"},{"size":4250,"mtime":1609924339272,"results":"36","hashOfConfig":"22"},{"size":2729,"mtime":1610046102798,"results":"37","hashOfConfig":"22"},{"size":344,"mtime":1609258129151,"results":"38","hashOfConfig":"22"},{"size":1671,"mtime":1609924811552,"results":"39","hashOfConfig":"22"},{"size":2001,"mtime":1610052184410,"results":"40","hashOfConfig":"22"},{"size":2298,"mtime":1610052231066,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1kmy3j2",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/josse/Projects/booking/src/index.js",[],["84","85"],"/Users/josse/Projects/booking/src/serviceWorker.js",[],"/Users/josse/Projects/booking/src/App.js",[],"/Users/josse/Projects/booking/src/components/footer.js",[],"/Users/josse/Projects/booking/src/components/header.js",[],"/Users/josse/Projects/booking/src/components/bookables.js",[],"/Users/josse/Projects/booking/src/components/i18n.js",[],"/Users/josse/Projects/booking/src/components/header-mobile.js",[],"/Users/josse/Projects/booking/src/components/menu.js",[],"/Users/josse/Projects/booking/src/components/food.js",[],"/Users/josse/Projects/booking/src/components/lodging.js",[],"/Users/josse/Projects/booking/src/components/tabs.js",[],"/Users/josse/Projects/booking/src/components/dateselector.js",[],"/Users/josse/Projects/booking/src/components/tab.js",[],"/Users/josse/Projects/booking/src/pages/checkout.js",["86","87"],"import React from 'react';\nimport {\n    BrowserRouter as Router,\n    Link,\n    withRouter\n  } from 'react-router-dom';\nimport moment from 'moment';\nimport parse from 'html-react-parser';\nimport Selected from '../components/selected.js';\n\nclass Checkout extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected: [],\n            discount: \"\",\n            discountMessage: \" \",\n            valid: \"notvalid\",\n        }\n        this.klarnaHtmlSnippet = React.createRef();\n        this.handleDiscountChange = this.handleDiscountChange.bind(this);\n        this.verifyDiscount = this.verifyDiscount.bind(this);\n    }\n    componentDidMount() {\n        if(this.props.location.state) {\n            this.fetchCheckout();\n        }\n    }\n    handleBookableChange(data) {\n        this.props.onBookableChange(data);\n    }\n    handleBookableRemove(data) {\n        this.props.onBookableRemove(data);\n    }\n    fetchCheckout() {\n        let data = {\n            \"products\": [...this.props.location.state.orderLines.map(selected => {\n                const startDate = selected.startDate ? moment(selected.startDate).format(\"YYYY-MM-DD\") : '';\n                const endDate = selected.endDate ? moment(selected.endDate).format(\"YYYY-MM-DD\") : '';\n                return ({\"id\": selected.productId, \"quantity\": selected.quantity, \"startDate\": startDate, \"endDate\": endDate } )\n            })]\n        };\n      \n        data = JSON.stringify(data);\n        fetch('https://api.test.naturlogi.se/api/order/checkout', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: data\n        })\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            this.klarnaHtmlSnippet.current.innerHTML = data.klarnaHtmlSnippet;\n            const scriptsTags = this.klarnaHtmlSnippet.current.getElementsByTagName('script');\n            for (let i = 0; i < scriptsTags.length; i++) {\n                const parentNode = scriptsTags[i].parentNode;\n                const newScriptTag = document.createElement('script');\n                newScriptTag.type = 'text/javascript';\n                newScriptTag.text = scriptsTags[i].text;\n                parentNode.removeChild(scriptsTags[i]);\n                parentNode.appendChild(newScriptTag);\n            }\n        });\n    }\n    renderKlarna(snippet) {\n        return (parse(snippet));\n    }\n    handleDiscountChange(event) {\n        this.setState({discount: event.target.value});\n      }\n    verifyDiscount(e) {\n        console.log(\"verify this: \" + this.state.discount)\n        if(this.state.discount == 'valid') {\n            this.setState({\n                discountMessage: \"Verifierad\",\n                valid: \"valid\",\n            });\n        } else {\n            this.setState({\n                discountMessage: \"Ej giltig\",\n                valid: \"notvalid\",\n            });\n        }\n    }\n    render() {\n        return (\n            <div className=\"checkout\">\n                <Link to=\"/boka\" className=\"button\" >Back</Link>\n                {/* <h2>Checkout</h2> */}\n                \n                <div className=\"extraInfo\">\n                    <label htmlFor=\"other\">Övrig info</label>\n                    <textarea name=\"other\" type=\"text\" placeholder=\"Ange eventuella matpreferenser eller andra önskemål när det gäller din bokning.\"/>\n\n                    <label htmlFor=\"discount\">Rabattkod/Presentkort</label>\n                    <input name=\"discount\" type=\"text\" value={this.state.discount} onChange={this.handleDiscountChange}/>\n                    <div>\n                        <span className={this.state.valid}>{this.state.discountMessage}</span>\n                        <button className=\"verifyDiscount button\" onClick={this.verifyDiscount} >Verifiera</button>\n                    </div>\n                </div>\n                <Selected selectedItems={this.props.selectedItems} onBookableRemove={this.handleBookableRemove} onBookableChange={this.handleBookableChange}></Selected>\n                <div id=\"klarnaHtmlSnippet\" ref={this.klarnaHtmlSnippet}>Klarna</div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Checkout);\n","/Users/josse/Projects/booking/src/components/selected.js",[],"/Users/josse/Projects/booking/src/components/scrollToTop.js",[],"/Users/josse/Projects/booking/src/pages/confirmation.js",[],"/Users/josse/Projects/booking/src/components/rental.js",[],"/Users/josse/Projects/booking/src/components/camp.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":3,"column":22,"nodeType":"94","messageId":"95","endLine":3,"endColumn":28},{"ruleId":"96","severity":1,"message":"97","line":75,"column":32,"nodeType":"98","messageId":"99","endLine":75,"endColumn":34},"no-native-reassign",["100"],"no-negated-in-lhs",["101"],"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]